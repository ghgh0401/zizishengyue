<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>仔仔艺考声乐助手 - 首页</title>
    <script>
        // 确保页面在正确的协议和端口打开
        if (window.location.protocol !== 'http:' || window.location.port !== '3004') {
            console.log('检测到错误的协议或端口，正在重定向到正确的URL...');
            const path = window.location.pathname.split('/').pop();
            window.location.href = `http://localhost:3004/${path}`;
        }
    </script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 导入现代字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- 配置Tailwind自定义颜色 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1a56db',  // 蓝色主题
                        secondary: '#3b82f6',
                        accent: '#60a5fa',
                        dark: '#1e3a8a',
                        light: '#bfdbfe',
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                        notoSans: ['Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', 'sans-serif'],
                        playfair: ['Playfair Display', 'Noto Serif SC', 'serif'],
                    },
                }
            }
        }
    </script>
    <!-- 自定义样式 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .text-shadow-lg {
                text-shadow: 0 4px 8px rgba(0,0,0,0.15);
            }
            .text-shadow-sm {
                text-shadow: 0 1px 2px rgba(0,0,0,0.05);
            }
            .card-hover {
                transition: all 0.4s cubic-bezier(0.215, 0.610, 0.355, 1.000);
            }
            .card-hover:hover {
                transform: translateY(-8px);
                box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.15), 0 10px 20px -5px rgba(0, 0, 0, 0.05);
            }
            .btn-primary {
                @apply bg-primary text-white font-medium px-6 py-3 rounded-lg transition duration-300 hover:bg-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary;
            }
            .btn-secondary {
                @apply bg-white text-primary font-medium px-6 py-3 rounded-lg border border-primary transition duration-300 hover:bg-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary;
            }
            /* 改进的导航样式 */
            .nav-item {
                @apply px-4 py-3 text-gray-200 hover:text-white font-medium relative transition duration-300 ease-in-out tracking-wide text-base;
            }
            .nav-item::after {
                content: '';
                @apply absolute bottom-0 left-0 w-0 h-0.5 bg-white transition-all duration-300 ease-in-out;
            }
            .nav-item:hover::after {
                @apply w-full;
            }
            .nav-item-active {
                @apply px-4 py-3 text-white font-semibold relative tracking-wide text-base;
            }
            .nav-item-active::after {
                content: '';
                @apply absolute bottom-0 left-0 w-full h-0.5 bg-white;
            }
            /* 页面加载和过渡动画 */
            .fade-in {
                animation: fadeIn 0.8s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
                opacity: 0;
            }
            .slide-up {
                animation: slideUp 0.8s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
                opacity: 0;
                transform: translateY(30px);
            }
            .slide-in-left {
                animation: slideInLeft 0.8s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
                opacity: 0;
                transform: translateX(-30px);
            }
            .slide-in-right {
                animation: slideInRight 0.8s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
                opacity: 0;
                transform: translateX(30px);
            }
            .scale-in {
                animation: scaleIn 0.5s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
                opacity: 0;
                transform: scale(0.95);
            }
            .pulse-subtle {
                animation: pulseSubtle 3s infinite;
            }
            /* 动画延迟类 */
            .delay-100 { animation-delay: 100ms; }
            .delay-200 { animation-delay: 200ms; }
            .delay-300 { animation-delay: 300ms; }
            .delay-400 { animation-delay: 400ms; }
            .delay-500 { animation-delay: 500ms; }
            .delay-600 { animation-delay: 600ms; }
            
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            @keyframes slideUp {
                from { 
                    transform: translateY(30px); 
                    opacity: 0;
                }
                to { 
                    transform: translateY(0); 
                    opacity: 1;
                }
            }
            @keyframes slideInLeft {
                from { 
                    transform: translateX(-30px); 
                    opacity: 0;
                }
                to { 
                    transform: translateX(0); 
                    opacity: 1;
                }
            }
            @keyframes slideInRight {
                from { 
                    transform: translateX(30px); 
                    opacity: 0;
                }
                to { 
                    transform: translateX(0); 
                    opacity: 1;
                }
            }
            @keyframes scaleIn {
                from { 
                    transform: scale(0.95); 
                    opacity: 0;
                }
                to { 
                    transform: scale(1); 
                    opacity: 1;
                }
            }
            
            /* 模态框动画 */
            .modal-backdrop {
                transition: opacity 0.3s ease;
            }
            
            .modal-content {
                transition: transform 0.3s ease, opacity 0.3s ease;
            }
            @keyframes pulseSubtle {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.8; }
            }
            @keyframes float {
                0% { transform: translateY(0px); }
                50% { transform: translateY(-10px); }
                100% { transform: translateY(0px); }
            }
            @keyframes bounceIn {
                0% { 
                    opacity: 0;
                    transform: scale(0.3);
                }
                50% { 
                    opacity: 1;
                    transform: scale(1.05);
                }
                70% { 
                    transform: scale(0.9);
                }
                100% { 
                    transform: scale(1);
                    opacity: 1;
                }
            }
            /* 自定义滚动条 */
            ::-webkit-scrollbar {
                width: 8px;
                height: 8px;
            }
            ::-webkit-scrollbar-track {
                background: #f1f5f9;
                border-radius: 4px;
            }
            ::-webkit-scrollbar-thumb {
                background: #cbd5e1;
                border-radius: 4px;
            }
            ::-webkit-scrollbar-thumb:hover {
                background: #94a3b8;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- 导航栏 - 添加动画类 -->
    <header class="bg-primary shadow-md fade-in">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2 float-animation">
                <i class="fa fa-music text-2xl text-white"></i>
                <span class="text-xl font-bold text-white font-notoSans text-shadow-glow">仔仔艺考声乐助手</span>
            </div>
            <nav class="hidden md:flex space-x-1 fade-in delay-200">
                <a href="index.html" class="nav-item-active">首页</a>
                <a href="song-library.html" class="nav-item">曲目库</a>
                <a href="strategy.html" class="nav-item">备考攻略</a>
                <a href="login.html" class="nav-item">个人中心</a>
                <a href="admin.html" class="nav-item">后台管理</a>
            </nav>
            
            <!-- 用户操作区域已移除 -->
            <!-- 用户头像区域 - 已登录状态 -->
            <div id="user-profile" class="hidden relative">
                <button id="user-menu-btn" class="flex items-center space-x-2 text-white hover:text-gray-200 transition duration-200">
                    <img src="https://picsum.photos/id/1005/40/40" alt="用户头像" class="w-8 h-8 rounded-full object-cover border-2 border-white user-avatar">
                    <span class="user-name hidden md:inline-block">用户名称</span>
                    <i class="fa fa-caret-down"></i>
                </button>
                <!-- 用户下拉菜单 -->
                <div id="user-dropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50 hidden">
                    <a href="user-center.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 transition duration-200">
                        <i class="fa fa-user-circle mr-2"></i>个人中心
                    </a>
                    <div class="border-t border-gray-200 my-1"></div>
                    <a href="#" id="logout-link" class="block px-4 py-2 text-red-500 hover:bg-red-50 transition duration-200">
                        <i class="fa fa-sign-out mr-2"></i>退出登录
                    </a>
                </div>
            </div>

            <!-- 移动端菜单按钮 -->
            <button class="md:hidden text-white text-xl" id="mobile-menu-button">
                <i class="fa fa-bars"></i>
            </button>
        </div>
        <!-- 移动端菜单 -->
        <div class="md:hidden hidden" id="mobile-menu">
            <a href="index.html" class="block px-4 py-2 bg-primary text-white border-b border-gray-700">首页</a>
            <a href="song-library.html" class="block px-4 py-2 bg-primary text-gray-300 hover:text-white border-b border-gray-700">曲目库</a>
            <a href="strategy.html" class="block px-4 py-2 bg-primary text-gray-300 hover:text-white border-b border-gray-700">备考攻略</a>
            <a href="login.html" class="block px-4 py-2 bg-primary text-gray-300 hover:text-white border-b border-gray-700">个人中心</a>
            <a href="admin.html" class="block px-4 py-2 bg-primary text-gray-300 hover:text-white">后台管理</a>
        </div>
    </header>
    

    
    <!-- 通知提示 -->
    <div id="notification" class="fixed top-4 right-4 max-w-sm bg-white rounded-lg shadow-xl p-4 transform translate-x-full transition-all duration-300 z-50 flex items-start space-x-3">
        <i id="notification-icon" class="fa fa-info-circle text-primary mt-1 text-xl"></i>
        <div class="flex-1">
            <p id="notification-message" class="text-gray-700"></p>
        </div>
        <button id="close-notification" class="text-gray-400 hover:text-gray-600 transition-colors">
            <i class="fa fa-times"></i>
        </button>
    </div>

    <!-- 主要内容 -->
    <main class="container mx-auto px-4 py-8">
        <!-- 英雄区域 - 添加动画类 -->
        <section class="relative rounded-2xl overflow-hidden mb-12 bg-gradient-to-r from-primary to-dark fade-in delay-300">
            <div class="absolute inset-0 opacity-20">
                <img src="https://picsum.photos/id/1082/1200/400" alt="音乐背景" class="w-full h-full object-cover" />
            </div>
            <div class="relative py-16 px-8 md:py-24 text-center text-white z-10">
                <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold mb-4 text-shadow slide-up delay-400 font-notoSans">助你轻松备战艺考声乐</h1>
                <p class="text-lg md:text-xl max-w-3xl mx-auto mb-8 slide-up delay-500">专业的声乐学习资源、详细的曲库、实用的学习攻略和高质量的视频教学，一站式助力艺考生成功</p>
                <div class="flex flex-col sm:flex-row justify-center gap-4 slide-up delay-600">
                    <a href="song-library.html" class="btn-primary">
                        探索曲目库
                    </a>
                    <a href="video.html" class="btn-secondary">
                        观看教学视频
                    </a>
                </div>
            </div>
        </section>

        <!-- 特色功能 - 添加动画类 -->
        <section class="mb-16 fade-in delay-700">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800 mb-4 slide-up delay-800 font-notoSans">我们的特色</h2>
                <p class="text-gray-600 max-w-3xl mx-auto slide-up delay-900">专为艺考生打造的全方位学习平台，满足你在声乐学习过程中的各种需求</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- 特色1：专业曲库 -->
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover slide-up delay-1000">
                    <div class="w-16 h-16 bg-light rounded-full flex items-center justify-center mb-6">
                        <i class="fa fa-book text-2xl text-primary"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3 font-notoSans">专业曲目库</h3>
                    <p class="text-gray-600">收录数千首艺考热门曲目，包含详细的曲谱、歌词、演唱技巧和难度分析，帮助你选择最适合的练习和考试曲目。</p>
                </div>
                
                <!-- 特色2：学习攻略 -->
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover slide-up delay-1100">
                    <div class="w-16 h-16 bg-light rounded-full flex items-center justify-center mb-6">
                        <i class="fa fa-lightbulb-o text-2xl text-primary"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3 font-notoSans">学习攻略</h3>
                    <p class="text-gray-600">提供系统的声乐学习方法、呼吸训练技巧、发声方法和舞台表现力提升指南，让你的学习更有效率。</p>
                </div>
                
                <!-- 特色3：视频教学 -->
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover slide-up delay-1200">
                    <div class="w-16 h-16 bg-light rounded-full flex items-center justify-center mb-6">
                        <i class="fa fa-play-circle text-2xl text-primary"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3 font-notoSans">视频教学</h3>
                    <p class="text-gray-600">专业教师录制的教学视频，直观展示各种演唱技巧和方法，让学习更加高效，随时随地都能接受专业指导。</p>
                </div>
            </div>
        </section>

        <!-- 推荐曲目 - 添加动画类 -->
        <section class="mb-16 fade-in delay-700">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-gray-800 slide-up delay-800 font-notoSans">推荐曲目</h2>
                <a href="song-library.html" class="text-primary hover:text-dark transition duration-200 flex items-center slide-up delay-800">
                    查看全部 <i class="fa fa-arrow-right ml-2"></i>
                </a>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6" id="recommended-songs">
                <!-- 曲目卡片将通过JavaScript动态加载 -->
                <div class="flex justify-center items-center h-64">
                    <i class="fa fa-circle-o-notch fa-spin text-3xl text-primary"></i>
                </div>
            </div>
        </section>

        <!-- 热门攻略 - 添加动画类 -->
        <section class="mb-16 fade-in delay-1500">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-gray-800 slide-up delay-1600 font-notoSans">热门攻略</h2>
                <a href="strategy.html" class="text-primary hover:text-dark transition duration-200 flex items-center slide-up delay-1600">
                    查看全部 <i class="fa fa-arrow-right ml-2"></i>
                </a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- 攻略1 -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col md:flex-row card-hover slide-up delay-1700">
                    <div class="md:w-1/3">
                        <img src="https://picsum.photos/id/1039/300/200" alt="如何选择适合自己的艺考曲目" class="w-full h-48 md:h-full object-cover" />
                    </div>
                    <div class="p-6 md:w-2/3">
                        <h3 class="text-xl font-bold text-gray-800 mb-2 font-notoSans">如何选择适合自己的艺考曲目</h3>
                        <div class="flex items-center text-gray-500 text-sm mb-3">
                            <span>2023-09-15</span>
                            <span class="mx-2">·</span>
                            <span><i class="fa fa-eye mr-1"></i>3.5k</span>
                        </div>
                        <p class="text-gray-600 mb-4 line-clamp-3">选曲是艺考成功的关键之一，本文将告诉你如何根据自己的声线特点选择最适合的曲目，避开选曲常见误区...</p>
                        <a href="strategy-detail.html" class="text-primary hover:text-dark transition duration-200 inline-flex items-center mt-auto">
                            阅读全文 <i class="fa fa-angle-right ml-1"></i>
                        </a>
                    </div>
                </div>
                
                <!-- 攻略2 -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col md:flex-row card-hover slide-up delay-1800">
                    <div class="md:w-1/3">
                        <img src="https://picsum.photos/id/1062/300/200" alt="声乐考试中的呼吸技巧" class="w-full h-48 md:h-full object-cover" />
                    </div>
                    <div class="p-6 md:w-2/3">
                        <h3 class="text-xl font-bold text-gray-800 mb-2 font-notoSans">声乐考试中的呼吸技巧</h3>
                        <div class="flex items-center text-gray-500 text-sm mb-3">
                            <span>2023-08-22</span>
                            <span class="mx-2">·</span>
                            <span><i class="fa fa-eye mr-1"></i>2.8k</span>
                        </div>
                        <p class="text-gray-600 mb-4 line-clamp-3">正确的呼吸是声乐演唱的基础，本文将详细介绍胸腹式联合呼吸法的练习方法和在演唱中的实际应用...</p>
                        <a href="strategy-detail.html" class="text-primary hover:text-dark transition duration-200 inline-flex items-center mt-auto">
                            阅读全文 <i class="fa fa-angle-right ml-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 用户评价 - 添加动画类 -->
        <section class="mb-16 bg-gradient-to-br from-blue-50 to-indigo-50 py-12 rounded-2xl fade-in delay-1900">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-gray-800 mb-3 slide-up delay-2000 font-notoSans">用户评价</h2>
                <p class="text-gray-600 slide-up delay-2100">看看其他艺考生使用我们平台后的真实感受</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- 评价1 -->
                <div class="bg-white rounded-xl shadow-md p-6 card-hover bounce-in delay-2200">
                    <div class="flex items-center mb-4">
                        <img src="https://picsum.photos/id/1027/100/100" alt="用户头像" class="w-12 h-12 rounded-full object-cover" />
                        <div class="ml-4">
                            <h4 class="font-bold text-gray-800 font-notoSans">李同学</h4>
                            <div class="flex text-yellow-400">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 italic">"这个平台的曲目库非常丰富，我找到了很多适合我的练习曲目。视频教学也很专业，对我的演唱技巧提升帮助很大！"</p>
                </div>
                
                <!-- 评价2 -->
                <div class="bg-white rounded-xl shadow-md p-6 card-hover bounce-in delay-2300">
                    <div class="flex items-center mb-4">
                        <img src="https://picsum.photos/id/1012/100/100" alt="用户头像" class="w-12 h-12 rounded-full object-cover" />
                        <div class="ml-4">
                            <h4 class="font-bold text-gray-800 font-notoSans">王同学</h4>
                            <div class="flex text-yellow-400">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star-half-o"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 italic">"备考攻略写得非常实用，特别是关于选曲和舞台表现的部分，让我在考试中更有信心。感谢平台的帮助！"</p>
                </div>
                
                <!-- 评价3 -->
                <div class="bg-white rounded-xl shadow-md p-6 card-hover bounce-in delay-2400">
                    <div class="flex items-center mb-4">
                        <img src="https://picsum.photos/id/1005/100/100" alt="用户头像" class="w-12 h-12 rounded-full object-cover" />
                        <div class="ml-4">
                            <h4 class="font-bold text-gray-800 font-notoSans">张同学</h4>
                            <div class="flex text-yellow-400">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star-o"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600 italic">"作为一个零基础的考生，这个平台给了我很多帮助。从基础发声到考试准备，都有详细的指导，非常推荐！"</p>
                </div>
            </div>
        </section>

    <!-- 页脚 - 添加动画类 -->
    <footer class="bg-primary text-white fade-in delay-2500">
        <div class="container mx-auto px-4 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="slide-in-left delay-2600">
                    <h3 class="text-xl font-bold mb-4 font-notoSans">关于我们</h3>
                    <p class="mb-4 text-gray-300">仔仔艺考声乐助手致力于为艺考生提供专业、全面的声乐学习资源和服务，帮助每一位艺考生实现自己的艺术梦想。</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-white hover:text-gray-300 transition duration-200"><i class="fa fa-weibo text-xl"></i></a>
                        <a href="#" class="text-white hover:text-gray-300 transition duration-200"><i class="fa fa-wechat text-xl"></i></a>
                        <a href="#" class="text-white hover:text-gray-300 transition duration-200"><i class="fa fa-qq text-xl"></i></a>
                    </div>
                </div>
                <div class="slide-up delay-2700">
                    <h3 class="text-xl font-bold mb-4 font-notoSans">快速链接</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-300 hover:text-white transition duration-200">首页</a></li>
                        <li><a href="song-library.html" class="text-gray-300 hover:text-white transition duration-200">曲目库</a></li>
                        <li><a href="strategy.html" class="text-gray-300 hover:text-white transition duration-200">学习攻略</a></li>
                        <li><a href="video.html" class="text-gray-300 hover:text-white transition duration-200">视频教学</a></li>
                        <li><a href="user-center.html" class="text-gray-300 hover:text-white transition duration-200">个人中心</a></li>
                    </ul>
                </div>
                <div class="slide-in-right delay-2800">
                    <h3 class="text-xl font-bold mb-4 font-notoSans">联系我们</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i class="fa fa-envelope-o mt-1 mr-3"></i>
                            <span class="text-gray-300">ghgh973082065@163.com</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-phone mr-3"></i>
                            <span class="text-gray-300">19163722703</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-qq mr-3"></i>
                            <span class="text-gray-300">QQ: 973082065</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-wechat mr-3"></i>
                            <span class="text-gray-300">微信: ziwen656298</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-map-marker mt-1 mr-3"></i>
                            <span class="text-gray-300">广西壮族自治区南宁市江南区沙井大道82号</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400 fade-in delay-2900">
                <p>© 2023 仔仔艺考声乐助手 版权所有 | ICP备案号:12345678号</p>
            </div>
        </div>
    </footer>

        <!-- 登录注册功能已移除，使用独立的登录页面 -->

    <!-- JavaScript -->
    <script>
        // 移动端菜单切换
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

    // 处理歌曲点击事件
    function handleSongClick(songId, songTitle) {
        console.log('点击了歌曲:', songId, songTitle);
        // 使用相对路径获取歌曲详情
        fetch(`/api/songs/${songId}`)
            .then(response => {
                console.log('API响应状态:', response.status);
                if (!response.ok) {
                    throw new Error(`HTTP错误! 状态: ${response.status}`);
                }
                return response.json();
            })
            .then(song => {
                console.log('获取到的歌曲数据:', song);
                // 检查返回的数据结构和htmlFilePath
                const hasHtmlFile = song.htmlFilePath && song.htmlFilePath.trim() !== '';
                console.log('是否有HTML文件:', hasHtmlFile);
                
                if (hasHtmlFile) {
                    // 确保文件路径以/开头，是绝对路径
                    let htmlPath = song.htmlFilePath;
                    if (!htmlPath.startsWith('/')) {
                        htmlPath = '/' + htmlPath;
                    }
                    
                    console.log('准备跳转到HTML文件:', htmlPath);
                    window.location.href = htmlPath;
                } else {
                    console.log('该歌曲暂无详细HTML文件');
                    alert('该歌曲暂无详细HTML文件');
                }
            })
            .catch(error => {
                console.error('获取歌曲详情失败:', error);
                alert('获取歌曲详情失败，请重试');
            });
    }

    // 加载推荐曲目
        async function loadRecommendedSongs() {
            try {
                // 使用与服务器相同的端口
                const port = window.location.port || '3004';
                const response = await fetch(`http://localhost:${port}/api/songs?page=1&pageSize=4`);
                const data = await response.json();
                
                if (data.success) {
                    const songsContainer = document.getElementById('recommended-songs');
                    songsContainer.innerHTML = '';
                    
                    data.data.items.forEach((song, index) => {
                        const songCard = document.createElement('div');
                        // 为每个曲目卡片添加不同的延迟动画效果
                        const animationDelay = 1000 + index * 100; // 从1秒开始，每个卡片延迟100ms
                        songCard.className = `bg-white rounded-xl shadow-md overflow-hidden card-hover scale-in`;
                        songCard.style.animationDelay = `${animationDelay}ms`;
                        
                        // 生成难度星星
                        let difficultyStars = '';
                        for (let i = 1; i <= 5; i++) {
                            if (i <= song.difficulty) {
                                difficultyStars += '<i class="fa fa-star text-yellow-400"></i>';
                            } else {
                                difficultyStars += '<i class="fa fa-star-o text-gray-300"></i>';
                            }
                        }
                        
                        songCard.innerHTML = `
                            <div class="relative overflow-hidden group bg-white rounded-xl shadow-md overflow-hidden transition-all duration-400 ease-in-out border border-gray-200/50 relative" style="font-family: 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;">
                                <!-- 闪光动画效果 -->
                                <div class="absolute top-0 left-[-100%] w-1/2 h-full bg-gradient-to-r from-transparent via-white/10 to-transparent skew-x-[-25deg] transition-all duration-700 ease-out shine-effect"></div>
                                
                                <div class="relative overflow-hidden h-48 bg-gradient-to-br from-gray-200 to-gray-100">
                                    <img src="${song.imageUrl || 'https://via.placeholder.com/400x300?text=音乐'}" alt="${song.title}" class="w-full h-full object-cover transition-transform duration-600 ease-out group-hover:scale-108" />
                                    <!-- 多标签显示区域 -->
                                    <div class="absolute top-2 right-2 flex flex-col items-end gap-1.5">
                                        <!-- 显示最多三个标签 -->
                                        ${Array.isArray(song.tags) && song.tags.length > 0 ? 
                                            song.tags.slice(0, 3).map(tag => `
                                                <div class="bg-primary/80 text-white text-xs px-2 py-1 rounded-md shadow-sm">${tag}</div>
                                            `).join('') : 
                                            (function() {
                                                // 提供默认标签以确保始终显示标签
                                                let defaultTags = [];
                                                if (song.type) defaultTags.push(`<div class="bg-primary/80 text-white text-xs px-2 py-1 rounded-md shadow-sm">${song.type}</div>`);
                                                if (song.type2) defaultTags.push(`<div class="bg-primary/70 text-white text-xs px-2 py-1 rounded-md shadow-sm">${song.type2}</div>`);
                                                if (song.type3) defaultTags.push(`<div class="bg-primary/60 text-white text-xs px-2 py-1 rounded-md shadow-sm">${song.type3}</div>`);
                                                 
                                                // 如果没有任何标签数据，提供默认标签
                                                if (defaultTags.length === 0) {
                                                    defaultTags = [
                                                        `<div class="bg-primary/80 text-white text-xs px-2 py-1 rounded-md shadow-sm">${song.genre || '未知体裁'}</div>`,
                                                        `<div class="bg-primary/70 text-white text-xs px-2 py-1 rounded-md shadow-sm">${song.language || '未知语言'}</div>`,
                                                        `<div class="bg-primary/60 text-white text-xs px-2 py-1 rounded-md shadow-sm">难度${song.difficulty || 3}</div>`
                                                    ];
                                                }
                                                 
                                                return defaultTags.join('');
                                            })()
                                        }
                                    </div>
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                        <a href="javascript:void(0)" onclick="handleSongClick(${song.id}, '${song.title}')" class="bg-white/90 text-primary rounded-full w-14 h-14 flex items-center justify-center transform translate-y-4 group-hover:translate-y-0 transition-all duration-300 shadow-lg hover:bg-primary hover:text-white hover:scale-110">
                                            <i class="fa fa-play text-lg"></i>
                                        </a>
                                    </div>
                                </div>
                                <div class="p-5 flex flex-col flex-grow">
                                    <h3 class="text-lg font-bold text-gray-800 mb-1 line-clamp-1 group-hover:text-primary transition-all duration-300 text-shadow-sm hover:shadow-text">${song.title}</h3>
                                    <p class="text-sm text-gray-500 mb-3 transition-all duration-300 group-hover:text-gray-700">${song.composer || '未知作曲家'}</p>
                                    <div class="flex items-center mb-4">
                                        <div class="flex mr-3 transition-transform duration-300 group-hover:scale-105">
                                            ${difficultyStars}
                                        </div>
                                        <span class="text-xs text-gray-500 group-hover:text-primary transition-colors duration-300">${song.views} 次浏览</span>
                                    </div>
                                    <a href="javascript:void(0)" onclick="handleSongClick(${song.id}, '${song.title}')" class="block text-center mt-auto py-2 rounded-lg font-medium transition-all duration-300 ease-in-out relative overflow-hidden z-10" style="background: linear-gradient(135deg, rgba(26, 111, 196, 0.1) 0%, rgba(44, 62, 140, 0.1) 100%); color: #1a6fc4; box-shadow: 0 2px 8px rgba(26, 111, 196, 0.15);">
                                        <!-- 按钮渐变背景 -->
                                        <span class="relative z-10">查看详情</span>
                                        <span class="absolute inset-0 bg-gradient(135deg, #1a6fc4 0%, #2c3e8c 100%) opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
                                    </a>
                                </div>
                            </div>`;
                        
                        // 添加卡片悬停时闪光动画的触发
                        songCard.addEventListener('mouseenter', function() {
                            const shine = this.querySelector('.shine-effect');
                            shine.style.left = '125%';
                            setTimeout(() => {
                                if (shine) shine.style.left = '-100%';
                            }, 750);
                        });
                        
                        // 添加鼠标离开时重置闪光位置
                        songCard.addEventListener('mouseleave', function() {
                            const shine = this.querySelector('.shine-effect');
                            if (shine) shine.style.left = '-100%';
                        });
                        
                        // 添加卡片悬停效果
                        songCard.addEventListener('mouseenter', function() {
                            this.style.transform = 'translateY(-8px)';
                            this.style.boxShadow = '0 15px 40px rgba(0, 0, 0, 0.12)';
                            this.style.borderColor = 'rgba(26, 111, 196, 0.2)';
                        });
                        
                        songCard.addEventListener('mouseleave', function() {
                            this.style.transform = '';
                            this.style.boxShadow = '';
                            this.style.borderColor = '';
                        });
                        
                        songsContainer.appendChild(songCard);
                    });
                } else {
                    document.getElementById('recommended-songs').innerHTML = '<p class="text-center text-gray-500 w-full">加载失败，请稍后再试</p>';
                }
            } catch (error) {
                console.error('加载推荐曲目失败:', error);
                document.getElementById('recommended-songs').innerHTML = '<p class="text-center text-gray-500 w-full">加载失败，请稍后再试</p>';
            }
        }

        // 更新导航栏用户信息
        function updateNavbarUserInfo() {
            const userLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
            const username = localStorage.getItem('username');
            const userAvatar = localStorage.getItem('userAvatar');
            
            const userActions = document.getElementById('user-actions');
            const userProfile = document.getElementById('user-profile');
            const userName = document.querySelector('.user-name');
            const userAvatarImg = document.querySelector('.user-avatar');
            
            if (userLoggedIn && username) {
                if (userActions) userActions.classList.add('hidden');
                if (userProfile) userProfile.classList.remove('hidden');
                if (userName) userName.textContent = username;
                if (userAvatarImg && userAvatar) {
                    userAvatarImg.src = userAvatar;
                }
            } else {
                if (userActions) userActions.classList.remove('hidden');
                if (userProfile) userProfile.classList.add('hidden');
            }
        }
        
        // 退出登录功能
        function logout() {
            // 清除localStorage
            localStorage.removeItem('userLoggedIn');
            localStorage.removeItem('username');
            localStorage.removeItem('userAvatar');
            localStorage.removeItem('token');
            localStorage.removeItem('userInfo');
            
            // 清除cookie
            document.cookie = 'userLoggedIn=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'userAvatar=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            
            // 更新UI
            updateNavbarUserInfo();
            
            // 显示退出成功提示
            showNotification('已成功退出登录', 'success');
        }
        
        // 设置退出登录功能
        function setupLogout() {
            const logoutBtn = document.getElementById('logout-btn');
            const logoutLink = document.getElementById('logout-link');
            
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    logout();
                });
            }
            
            if (logoutLink) {
                logoutLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    logout();
                });
            }
        }
        
        // 用户菜单切换显示
        function setupUserMenu() {
            const userMenuBtn = document.getElementById('user-menu-btn');
            const userDropdown = document.getElementById('user-dropdown');
            
            if (userMenuBtn && userDropdown) {
                userMenuBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    userDropdown.classList.toggle('hidden');
                });
                
                // 点击页面其他地方关闭下拉菜单
                document.addEventListener('click', function(e) {
                    if (!userMenuBtn.contains(e.target) && !userDropdown.contains(e.target)) {
                        userDropdown.classList.add('hidden');
                    }
                });
            }
        }
        
        // 显示通知提示
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            const notificationMessage = document.getElementById('notification-message');
            const notificationIcon = document.getElementById('notification-icon');
            
            // 设置消息内容
            notificationMessage.textContent = message;
            
            // 设置图标和颜色
            notificationIcon.className = 'fa mt-1 text-xl';
            
            switch(type) {
                case 'success':
                    notificationIcon.classList.add('fa-check-circle', 'text-green-500');
                    break;
                case 'error':
                    notificationIcon.classList.add('fa-times-circle', 'text-red-500');
                    break;
                case 'warning':
                    notificationIcon.classList.add('fa-exclamation-circle', 'text-yellow-500');
                    break;
                case 'info':
                default:
                    notificationIcon.classList.add('fa-info-circle', 'text-primary');
                    break;
            }
            
            // 显示通知
            notification.style.transform = 'translateX(0)';
            
            // 3秒后自动隐藏
            setTimeout(() => {
                notification.style.transform = 'translateX(full)';
            }, 3000);
        }
        
        // 显示登录模态框
        // 登录模态框功能已移除，保留其他必要功能
        
        // 登录模态框功能已移除，保留其他必要功能
        
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', () => {
            // 更新导航栏用户信息
            updateNavbarUserInfo();
            setupLogout();
            setupUserMenu();
            
            loadRecommendedSongs();
            
            // 设置通知关闭按钮
            document.getElementById('close-notification').addEventListener('click', () => {
                document.getElementById('notification').style.transform = 'translateX(full)';
            });
            
            // 添加移动端菜单切换
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }
        });
    </script>
</body>
</html>